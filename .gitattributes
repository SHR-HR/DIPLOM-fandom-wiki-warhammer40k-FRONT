# Нормализуем конец строк: в репо LF, в рабочей копии Git сам подставит CRLF на Windows (autocrlf=true)
* text=auto eol=lf

# Явно для исходников
*.js   text eol=lf
*.jsx  text eol=lf
*.ts   text eol=lf
*.tsx  text eol=lf
*.css  text eol=lf
*.scss text eol=lf
*.json text eol=lf
*.md   text eol=lf
*.yml  text eol=lf
*.yaml text eol=lf

# Бинарники
*.png  binary
*.jpg  binary
*.jpeg binary
*.gif  binary
*.webp binary
*.svg  text eol=lf





# Подробное объяснение файла .gitattributes:

# Назначение файла
# .gitattributes определяет как Git должен обрабатывать разные типы файлов в репозитории, особенно в контексте:

# Концы строк (line endings) - критично для кроссплатформенной разработки

# Текстовые vs бинарные файлы - разное поведение при коммитах

# Нормализация - единообразие в репозитории



# Разбор конфигурации:

# Основное правило:
# gitattributes
# * text=auto eol=lf
# * - применяется ко всем файлам

# text=auto - Git сам определяет текстовые файлы

# eol=lf - в репозитории хранятся с LF (Linux/macOS стиль)


# Для разработчиков на Windows:

# # На Windows Git автоматически:
# # - При коммите: CRLF → LF (нормализация)
# # - При извлечении: LF → CRLF (для Windows совместимости)
# # Это обеспечивает команда: git config --global core.autocrlf true

# Текстовые файлы (явное указание):

# JavaScript/TypeScript:
# gitattributes
# *.js   text eol=lf
# *.jsx  text eol=lf
# *.ts   text eol=lf
# *.tsx  text eol=lf

# Зачем нужно: Гарантирует единообразие концов строк в исходном коде



# Стили и конфиги:
# gitattributes
# *.css  text eol=lf
# *.scss text eol=lf
# *.json text eol=lf
# *.md   text eol=lf
# *.yml  text eol=lf
# *.yaml text eol=lf

# Зачем нужно: Предотвращает проблемы с парсингом из-за смешанных концов строк



# Бинарные файлы:
# Изображения:
# gitattributes
# *.png  binary
# *.jpg  binary
# *.jpeg binary
# *.gif  binary
# *.webp binary
# Почему binary:


# Git не пытается анализировать или преобразовывать

# Избегает повреждения файлов

# Оптимизирует хранение (дельта-компрессия)

# Особый случай - SVG:
# gitattributes
# *.svg  text eol=lf


# Почему text:

# SVG это XML-формат (текстовый)

# Можно делать diff между версиями

# Нужна нормализация концов строк





# Проблемы которые решает этот файл:

# 1. "Война концов строк" (Windows vs Unix):

# # Без .gitattributes:
# # - Windows разработчики: CRLF
# # - Linux/macOS разработчики: LF  
# # - В репозитории: смешанные стили
# # - Конфликты при слиянии

# # С .gitattributes:
# # - В репозитории всегда LF
# # - Автоматическое преобразование под ОС
# 2. Повреждение бинарных файлов:

# # Без указания binary:
# # Git может попытаться "оптимизировать" изображения
# # Результат: битые картинки после коммита




# # С binary:
# # Git хранит бинарные файлы как есть
# Для проекта Warhammer 40,000 вики:

# Типичные файлы проекта:


# Текстовые (LF):
# - Компоненты React: *.jsx, *.tsx
# - Стили Tailwind: *.css
# - Конфиги: *.json, *.yaml
# - Документация: *.md

# Бинарные:
# - Скриншоты интерфейса: *.png, *.jpg
# - Иконки Warhammer: *.svg (но text!)
# - Аватары пользователей: *.webp


# Преимущества для команды:
# Единый кодстайл независимо от ОС разработчика

# Нет конфликтов из-за разницы концов строк

# Корректное отображение изображений Warhammer тематики







# Проверка работы:



# Команды для проверки:

# # Показать как Git видит файлы
# git check-attr -a -- src/App.jsx

# # Принудительная нормализация
# git add --renormalize .

# # Проверить статус нормализации
# git status



# Если проблемы остались:

# # Очистка кеша и перенормализация
# git rm --cached -r .
# git reset --hard
# git add .


# Этот .gitattributes файл обеспечивает профессиональную настройку 
# Git репозитория для фронтенд-проекта вики по Warhammer 40,000, 
# предотвращая распространенные проблемы с кроссплатформенной разработкой.



